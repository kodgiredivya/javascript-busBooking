<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bus Booking in JS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container mt-5 body">
        <div class="row justify-content-center">
            <div class="col col-xs-12 col-md-6 col-sm-8">
                <div id="output"></div>
                <div class="seats">
                    <div class="container start bg-transparent">
                        <div id="seatS1" class="box" onclick="handleClick('#seatS1')"></div>
                        <div id="seatS2" class="box" onclick="handleClick('#seatS2')"></div>
                        <div id="seatS3" class="box" onclick="handleClick('#seatS3')"></div>
                        <div id="seatS4" class="box" onclick="handleClick('#seatS4')"></div>
                        <div id="seat5" class="box" onclick="handleClick('#seatS5')"></div>
                    </div>
                    <div class="container middle bg-transparent">
                        <div class="left">
                            <div id="seatL1" onclick="handleClick('#seatL1')" class="box"></div>
                            <div id="seatL2" onclick="handleClick('#seatL2')" class="box"></div>
                            <div id="seatL3" onclick="handleClick('#seatL3')" class="box"></div>
                            <div id="seatL4" onclick="handleClick('#seatL4')" class="box"></div>
                            <div id="seatL5" onclick="handleClick('#seatL5')" class="box"></div>
                            <div id="seatL6" onclick="handleClick('#seatL6')" class="box"></div>
                            <div id="seatL7" onclick="handleClick('#seatL7')" class="box"></div>
                            <div id="seatL8" onclick="handleClick('#seatL8')" class="box"></div>
                            <div id="seatL9" onclick="handleClick('#seatL9')" class="box"></div>
                            <div id="seatL10" onclick="handleClick('#seatL10')" class="box"></div>
                            <div id="seatL11" onclick="handleClick('#seatL11')" class="box"></div>
                            <div id="seatL12" onclick="handleClick('#seatL12')" class="box"></div>
                            <div id="seatL13" onclick="handleClick('#seatL13')" class="box"></div>
                            <div id="seatL14" onclick="handleClick('#seatL14')" class="box"></div>
                        </div>
                        <div class="right bg-transparent">
                            <div id="seatR1" onclick="handleClick('#seatR1')" class="box"></div>
                            <div id="seatR2" onclick="handleClick('#seatR2')" class="box"></div>
                            <div id="seatR3" onclick="handleClick('#seatR3')" class="box"></div>
                            <div id="seatR4" onclick="handleClick('#seatR4')" class="box"></div>
                            <div id="seatR5" onclick="handleClick('#seatR5')" class="box"></div>
                            <div id="seatR6" onclick="handleClick('#seatR6')" class="box"></div>
                            <div id="seatR7" onclick="handleClick('#seatR7')" class="box"></div>
                            <div id="seatR8" onclick="handleClick('#seatR8')" class="box"></div>
                            <div id="seatR9" onclick="handleClick('#seatR9')" class="box"></div>
                            <div id="seatR10" onclick="handleClick('#seatR10')" class="box"></div>
                            <div id="seatR11" onclick="handleClick('#seatR11')" class="box"></div>
                            <div id="seatR12" onclick="handleClick('#seatR12')" class="box"></div>
                            <div id="seatR13" onclick="handleClick('#seatR13')" class="box"></div>
                            <div id="seatR14" onclick="handleClick('#seatR14')" class="box"></div>
                        </div>
                    </div>
                </div>
                <button type="button" class="w-50 btn btn-light mt-4" onclick="bookSeats()">
                    Book Seats
                </button>
            </div>
            <div class="col-xs-12 col">
                <div class="card w-50 d-none mt-5" id="bill">
                    <div class="card-header text-center">
                        <h3>Bill</h3>
                    </div>
                    <div class="card-body">
                        <p>Selected Seats: <strong id="seats">0</strong></p>
                        <p>EstimatedCost: <strong id="ecost">0</strong></p>
                        <p>GST: <strong id="gst">0</strong></p>
                        <p>Total: <strong id="total">0</strong></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function handleClick(arg) {
            let x = document.querySelector(arg)

            //    if ('jr tithe bg-secondary class nahi')
            if (!x.classList.contains('bg-secondary')) {
                x.classList.contains("bg-success")
                    ? x.classList.remove("bg-success")
                    : x.classList.add("bg-success")
            }
            display()
        }
        function display() {
            let allSeats = document.querySelectorAll(".bg-success")
            console.log(allSeats);
            allSeats.length >= 1
                ? document.querySelector("#bill").classList.remove("d-none")
                : document.querySelector("#bill").classList.add("d-none")

            let Seats = allSeats.length
            let est_cost = 500 * Seats
            let gst = est_cost * 0.18
            let total = est_cost + gst
            document.querySelector("#seats").innerHTML = Seats
            document.querySelector("#ecost").innerHTML = est_cost
            document.querySelector("#gst").innerHTML = gst
            document.querySelector("#total").innerHTML = total
        }
        function bookSeats() {
            let allSelectedSeats = document.querySelectorAll(".bg-success")
            for (let i = 0; i < allSelectedSeats.length; i++) {
                allSelectedSeats[i].classList.remove("bg-success")
                allSelectedSeats[i].classList.add("bg-secondary")
            }
            document.querySelector("#output").innerHTML = ` 
            <div  class="alert alert-success"> you have Booked ${allSelectedSeats.length} Seats </div>`
        }
    </script>
</body>


</html>